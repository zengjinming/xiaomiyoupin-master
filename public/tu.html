<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="./css/tu.css">
		<script>
			
			function getall() {
				var d1=document.getElementById("d1");
            //1.创建异步对象
            var xhr = new XMLHttpRequest();
            //4.接收响应
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var r = xhr.responseText;
                    var arr = JSON.parse(r);
                    //结构字符串-------------------1
                    // var strHTML;
                    //结构字符串-------------------2
                    for (var i = 0; i < arr.length; i++) {
                        d1.innerHTML += `
                            <div class="goodsbox">
								<div class="goods1">
									<div class="yagood">
                                       <img src="${arr[i].gimg}" class="goodimg">
									</div>
									<p class="des">${arr[i].gdes}</p>
                                 </div>
								<div class="goods2">
									 <div class="gdct">
										<span class="yagdect">${arr[i].gdct}</span>
									</div>
									 <p class="gtitle">${arr[i].gname}</p>
									 <p class="pro-price">
										<span class="pro-unit">¥</span>
										<span class="m-num">${arr[i].gprice}</span>		
									</p>
								</div> 
							 </div>
							`;
				    
                    // d1.innerHTML = strHTML;
					}
                }
            }
            //2.创建请求
            xhr.open("get", "/goods");
            //3.发送请求
            xhr.send();
	}
		</script>
	</head>
	<body onload="getall()">
		<div id="d1"></div>
	</body>
</html>
